<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary shadow-sm">
        <div class="container">
            <button class="btn btn-dark" id="darkModeToggle">Toggle Dark Mode</button>
        </div>
    </nav>
    
    <section class="container my-5" id="testimonials">
        <h2 class="text-center mb-4">Apa Kata Mereka?</h2>
        <div class="row" id="testimonial-list">
            <p class="text-center text-muted">Memuat testimonial...</p>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js"></script>
</body>
</html>

document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('darkModeToggle');
    const htmlElement = document.documentElement; // <html> tag

    // 1. Fungsi untuk mengatur tema
    function setTheme(theme) {
        htmlElement.setAttribute('data-bs-theme', theme);
        localStorage.setItem('theme', theme);
        toggleButton.textContent = theme === 'dark' ? 'Toggle Light Mode' : 'Toggle Dark Mode';
    }

    // 2. Cek tema tersimpan di Local Storage atau default ke 'light'
    const storedTheme = localStorage.getItem('theme') || 'light';
    setTheme(storedTheme);

    // 3. Listener untuk tombol toggle
    toggleButton.addEventListener('click', () => {
        const currentTheme = htmlElement.getAttribute('data-bs-theme');
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        setTheme(newTheme);
    });
});
        // Inisialisasi Supabase (GANTI DENGAN KUNCI ANDA)
const SUPABASE_URL = 'YOUR_SUPABASE_URL';
const SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY';

const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

async function fetchTestimonials() {
    const listElement = document.getElementById('testimonial-list');
    listElement.innerHTML = ''; // Hapus pesan 'memuat'

    try {
        const { data: testimonials, error } = await supabase
            .from('testimonials')
            .select('*')
            .order('created_at', { ascending: false }); // Urutkan terbaru

        if (error) throw error;

        if (testimonials && testimonials.length > 0) {
            testimonials.forEach(testimonial => {
                const col = document.createElement('div');
                col.className = 'col-lg-4 col-md-6 mb-4';

                // Gunakan kelas Bootstrap Card untuk styling elegan
                col.innerHTML = `
                    <div class="card h-100 shadow-sm border-0">
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <p>"${testimonial.content}"</p>
                                <footer class="blockquote-footer mt-2">
                                    ${testimonial.name}
                                </footer>
                            </blockquote>
                        </div>
                    </div>
                `;
                listElement.appendChild(col);
            });
        } else {
             listElement.innerHTML = '<p class="text-center text-muted">Belum ada testimonial.</p>';
        }

    } catch (e) {
        console.error('Error fetching testimonials:', e);
        listElement.innerHTML = `<p class="text-center text-danger">Gagal memuat data: ${e.message}</p>`;
    }
}

// Panggil fungsi saat aplikasi dimuat
// fetchTestimonials(); // Uncomment ini setelah Anda mengganti URL/KEY

        
